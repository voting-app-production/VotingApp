# 1. Name of the build (optional in ADO)
name: CI-Build-$(Date:yyyyMMdd)$(Rev:.r)

# 2. Trigger for pushes to the main branch
trigger:
- main

# 3. Trigger for Pull Requests (Note: For Azure Repos, PR triggers 
# are often handled via 'Branch Policies' in the UI, but this is the YAML syntax)
pr:
- main

# 4. Point to your MacBook Runner
pool:
  name: 'Default' 

jobs:
- job: Build
  displayName: 'Build Job'
  steps:
    # 5. Checkout code (In ADO, 'checkout: self' is implicit, but we list it for clarity)
    - checkout: self
      displayName: 'Checkout code'

    # 6. Run a one-line script
    - script: echo "The VotingApp code has been checked out and is ready to build!"
      displayName: 'Run a one-line script'

    # 7. Run a multi-line script (Note the use of the '|' character)
    - script: |
        echo "Starting build process..."
        echo "Current Agent: $(Agent.Name)"
        echo "Build ID: $(Build.BuildId)"
        # Add your build commands here (e.g., npm install, dotnet build)
      displayName: 'Run a multi-line script'
